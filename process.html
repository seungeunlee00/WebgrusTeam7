<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>테스트</title>
  </head>

  <body>
    <script>
      var EorI = 0; // E인지 I인지 저장할 변수~ 밑에도 같음~
      var NorS = 0;
      var TorF = 0;
      var JorP = 0;

      var mbti = ""; // 최종적으로 mbti 문자열이 저장될 변수
      /*
      Set Test Var
      Expected result ==> ISFP
    */

      //E or I
      if (localStorage.getItem("question4") == "2") {
        EorI += 1;
      }
      if (localStorage.getItem("question7") == "1") {
        EorI += 1;
      }
      if (localStorage.getItem("question11") == "2") {
        EorI += 1;
      }

      if (EorI > 2) {
        EorI = "E";
      } else EorI = "I";

      //N or S
      if (localStorage.getItem("question1") == "1") {
        NorS += 1;
      }
      if (localStorage.getItem("question8") == "1") {
        NorS += 1;
      }
      if (localStorage.getItem("question12") == "2") {
        NorS += 1;
      }

      if (NorS > 2) {
        NorS = "N";
      } else NorS = "S";

      //T or F
      if (localStorage.getItem("question3") == "2") {
        TorF += 1;
      }
      if (localStorage.getItem("question6") == "2") {
        TorF += 1;
      }
      if (localStorage.getItem("question10") == "2") {
        TorF += 1;
      }

      if (TorF > 2) {
        TorF = "T";
      } else TorF = "F";

      //J or P
      if (localStorage.getItem("question2") == "1") {
        JorP += 1;
      }
      if (localStorage.getItem("question5") == "1") {
        JorP += 1;
      }
      if (localStorage.getItem("question9") == "1") {
        JorP += 1;
      }

      if (JorP > 2) {
        JorP = "J";
      } else JorP = "P";

      //MBTI 결정
      mbti = EorI + NorS + TorF + JorP;

      // 최종 결과 확인
      alert(mbti);
      location.href = "./result.html?" + mbti;

localStorage.clear();
    </script>
  </body>
</html>
